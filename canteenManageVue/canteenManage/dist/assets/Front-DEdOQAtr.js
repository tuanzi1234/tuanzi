/* empty css                *//* empty css               */import{_ as U}from"./logo-Dk_K9ALf.js";/* empty css                  *//* empty css              *//* empty css                */import{_ as I,r as b,c as v,a as s,b as n,w as o,u as _,N as V,E as c,f as j,y as B,z as F,e as M,o as l,g as r,P as i,v as d,h as g,t as z,n as J,j as k,k as O,l as q,m as A}from"./index-5FTUK4ks.js";import{r as P}from"./request-DjFgx_mW.js";const R={class:"front-header"},G={class:"front-header-center"},H={style:{width:"500px"}},K={class:"front-header-right"},L={key:0},Q={key:1},W={style:{"padding-right":"20px",display:"flex","align-items":"center"}},X=["src"],Y={style:{"margin-left":"5px","font-size":"15px",color:"#333","font-weight":"500"}},Z={class:"main-body"},h={__name:"Front",setup(ee){const t=b({user:JSON.parse(localStorage.getItem("project-user"))||"{}",top:null,noticeData:[],name:null}),y=()=>{t.user=JSON.parse(localStorage.getItem("project-user")||"{}")};(()=>{P.get("/notice/selectAll").then(u=>{t.noticeData=u.data;let e=0;t.noticeData.length&&t.noticeData&&(t.top=t.noticeData[0].content,setInterval(()=>{t.top=t.noticeData[e].content,e++,e===t.noticeData.length&&(e=0)},3e3))})})();const w=()=>{localStorage.removeItem("project-user"),setInterval(()=>{location.href="/login"},500)},D=u=>{if(!t.name){c.error("请输入搜索内容");return}location.href=u};return(u,e)=>{const m=J,E=j,T=B,f=F,N=k("arrow-down"),S=O,p=q,x=A,$=M,C=k("router-view");return l(),v(V,null,[s("div",R,[e[26]||(e[26]=s("div",{class:"front-header-left"},[s("div",{class:"front-header-left"},[s("img",{src:U,alt:""}),s("div",{class:"title"},"食堂管理")])],-1)),s("div",G,[n(E,{class:"front-header-center-menu","default-active":_(g).currentRoute.value.path,router:"",mode:"horizontal"},{default:o(()=>[n(m,{index:"/front/home"},{default:o(()=>e[10]||(e[10]=[r("首页")])),_:1}),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(m,{key:0,index:"/front/dishItem"},{default:o(()=>e[11]||(e[11]=[r("我的点单")])),_:1})):d("",!0),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(m,{key:1,index:"/front/orders"},{default:o(()=>e[12]||(e[12]=[r("我的订单")])),_:1})):d("",!0),n(m,{index:"/front/information"},{default:o(()=>e[13]||(e[13]=[r("食堂资讯")])),_:1}),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(m,{key:2,index:"/front/feedback"},{default:o(()=>e[14]||(e[14]=[r("反馈意见")])),_:1})):d("",!0),n(m,{index:"/front/Notice"},{default:o(()=>e[15]||(e[15]=[r("系统公告")])),_:1})]),_:1},8,["default-active"])]),s("div",H,[n(T,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=a=>t.name=a),"prefix-icon":"Search",style:{width:"240px","margin-right":"10px"},placeholder:"请输入菜品名称"},null,8,["modelValue"]),n(f,{onClick:e[1]||(e[1]=a=>D("/front/search?name="+t.name))},{default:o(()=>e[16]||(e[16]=[r("搜索")])),_:1})]),s("div",K,[t.user.id?(l(),v("div",Q,[n($,{style:{cursor:"pointer"}},{dropdown:o(()=>[n(x,null,{default:o(()=>[t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(p,{key:0,onClick:e[4]||(e[4]=a=>u.$router.push("/front/person"))},{default:o(()=>e[19]||(e[19]=[r("个人中心")])),_:1})):d("",!0),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(p,{key:1,onClick:e[5]||(e[5]=a=>u.$router.push("/front/history"))},{default:o(()=>e[20]||(e[20]=[r("历史浏览")])),_:1})):d("",!0),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(p,{key:2,onClick:e[6]||(e[6]=a=>u.$router.push("/front/praise"))},{default:o(()=>e[21]||(e[21]=[r("我赞过的")])),_:1})):d("",!0),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(p,{key:3,onClick:e[7]||(e[7]=a=>u.$router.push("/front/collect"))},{default:o(()=>e[22]||(e[22]=[r("我的收藏")])),_:1})):d("",!0),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(p,{key:4,onClick:e[8]||(e[8]=a=>u.$router.push("/front/myFeedback"))},{default:o(()=>e[23]||(e[23]=[r("我的反馈")])),_:1})):d("",!0),t.user&&t.user.name&&t.user.role==="STUDENT"?(l(),i(p,{key:5,onClick:e[9]||(e[9]=a=>u.$router.push("/front/password"))},{default:o(()=>e[24]||(e[24]=[r("修改密码")])),_:1})):d("",!0),n(p,{onClick:w},{default:o(()=>e[25]||(e[25]=[r("退出登录")])),_:1})]),_:1})]),default:o(()=>[s("div",W,[s("img",{style:{width:"40px",height:"40px","border-radius":"50%","object-fit":"cover"},src:t.user.avatar,alt:""},null,8,X),s("span",Y,z(t.user.name),1),n(S,{style:{color:"#333"}},{default:o(()=>[n(N)]),_:1})])]),_:1})])):(l(),v("div",L,[n(f,{onClick:e[2]||(e[2]=a=>_(g).push("/login"))},{default:o(()=>e[17]||(e[17]=[r("登录")])),_:1}),n(f,{onClick:e[3]||(e[3]=a=>_(g).push("/register"))},{default:o(()=>e[18]||(e[18]=[r("注册")])),_:1})]))])]),s("div",Z,[n(C,{onUpdateUser:y})])],64)}}},de=I(h,[["__scopeId","data-v-74f93cc5"]]);export{de as default};
