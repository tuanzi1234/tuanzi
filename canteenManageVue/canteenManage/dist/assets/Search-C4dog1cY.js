/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            */import{_ as m,a as y}from"./售罄-B6HAGyp1.js";import{r as f,h as p,c as r,a as t,t as o,b as l,w as c,v as d,E as g,a1 as v,B as z,o as a,N as k,O as b,P as C,u as N,a4 as w}from"./index-DDdsWfNx.js";import{r as _}from"./request-NPF86asl.js";const S={style:{width:"70%",margin:"20px auto"}},E={style:{"font-size":"20px"}},B={style:{"margin-top":"20px"}},D={key:0,class:"front_card"},P=["onClick","src"],j={style:{padding:"10px"}},V={style:{"font-size":"20px"}},q={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},R={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},F={style:{"margin-right":"50px","font-size":"25px",color:"red"}},L={style:{flex:"1","text-align":"right"}},M={key:1,class:"front_card"},O={style:{padding:"10px"}},U={style:{"font-size":"20px"}},$={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},A={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},G={style:{"margin-right":"50px","font-size":"25px",color:"red"}},H={style:{flex:"1","text-align":"right"}},I={key:2,class:"front_card"},J={style:{padding:"10px"}},K={style:{"font-size":"20px"}},Q={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},T={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},W={style:{"margin-right":"50px","font-size":"25px",color:"red"}},X={style:{flex:"1","text-align":"right"}},Y={key:0,class:"card"},gt={__name:"Search",setup(Z){const s=f({name:p.currentRoute.value.query.name,dishData:[],pageNum:1,pageSize:4,total:0});return(()=>{_.get("/dish/selectPage",{params:{pageNum:s.pageNum,pageSize:s.pageSize,name:s.name}}).then(i=>{i.code==="200"?(s.dishData=i.data.list,s.total=i.data.total):g.error(i.msg)})})(),(()=>{_.post("/search/add",{name:s.name}).then(i=>{i.code!=="200"&&g.error(i.msg)})})(),(i,n)=>{const h=w,x=v,u=z;return a(),r("div",S,[t("div",E,"这是搜索“"+o(s.name)+"”的结果",1),t("div",B,[l(x,{gutter:20},{default:c(()=>[(a(!0),r(k,null,b(s.dishData,e=>(a(),C(h,{span:6,key:e.id,style:{"margin-bottom":"10px"}},{default:c(()=>[e.status==="上架"&&e.num?(a(),r("div",D,[t("img",{onClick:st=>N(p).push("/front/dishDetail?id="+e.id),src:e.img,alt:"",style:{width:"100%",height:"200px","object-fit":"cover","border-top-left-radius":"6px","border-top-right-radius":"6px",cursor:"pointer"}},null,8,P),t("div",j,[t("div",V,o(e.name),1),t("div",q,o(e.content),1)]),t("div",R,[t("div",F,"￥ "+o(e.price),1),t("div",L,"库存："+o(e.num)+" 份",1)])])):d("",!0),e.status==="下架"?(a(),r("div",M,[n[1]||(n[1]=t("div",{style:{display:"flex","justify-content":"center"}},[t("img",{src:m,alt:"",style:{width:"130px",height:"130px","border-top-left-radius":"6px","border-top-right-radius":"6px"}})],-1)),t("div",O,[t("div",U,o(e.name)+"（已下架）",1),t("div",$,o(e.content),1)]),t("div",A,[t("div",G,"￥ "+o(e.price),1),t("div",H,"库存："+o(e.num)+" 份",1)])])):d("",!0),e.num?d("",!0):(a(),r("div",I,[n[2]||(n[2]=t("div",{style:{display:"flex","justify-content":"center"}},[t("img",{src:y,alt:"",style:{width:"130px",height:"130px","border-top-left-radius":"6px","border-top-right-radius":"6px"}})],-1)),t("div",J,[t("div",K,o(e.name),1),t("div",Q,o(e.content),1)]),t("div",T,[t("div",W,"￥ "+o(e.price),1),t("div",X,"库存："+o(e.num)+" 份",1)])]))]),_:2},1024))),128))]),_:1})]),s.total?(a(),r("div",Y,[l(u,{onCurrentChange:i.load,background:"",layout:"total, prev, pager, next","page-size":s.pageSize,"current-page":s.pageNum,"onUpdate:currentPage":n[0]||(n[0]=e=>s.pageNum=e),total:s.total},null,8,["onCurrentChange","page-size","current-page","total"])])):d("",!0)])}}};export{gt as default};
