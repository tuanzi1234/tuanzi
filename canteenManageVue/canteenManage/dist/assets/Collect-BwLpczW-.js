/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            *//* empty css               */import{r as _}from"./request-BisGCTbQ.js";import{r as y,c as l,a as o,t as r,b as d,w as c,v as C,E as p,a1 as k,B as z,o as n,N,O as b,P as w,g as E,z as B,a3 as D}from"./index-ByI2rrOB.js";const S={style:{width:"70%",margin:"20px auto"}},P={style:{"font-size":"20px"},class:"card"},V={style:{flex:"1",padding:"5px"}},j={class:"front_card"},T=["onClick","src"],$={style:{padding:"10px"}},q={style:{display:"flex","justify-content":"space-between"}},F={style:{"font-size":"20px"}},I={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},L={key:0,class:"card"},W={__name:"Collect",setup(M){const t=y({dishData:[],pageNum:1,pageSize:8,total:0}),i=()=>{_.get("/collect/selectPage",{params:{pageNum:t.pageNum,pageSize:t.pageSize}}).then(e=>{e.code==="200"?(t.dishData=e.data.list,t.total=e.data.total):p.error(e.msg)})},g=e=>{setInterval(()=>{location.href=e},300)},u=e=>{_.delete("/collect/delete/"+e).then(s=>{s.code==="200"?(p.success("取消成功！"),i()):p.error(s.msg)})};return i(),(e,s)=>{const m=B,h=D,f=k,v=z;return n(),l("div",S,[o("div",P,"我的收藏记录："+r(t.total),1),o("div",V,[d(f,{gutter:10},{default:c(()=>[(n(!0),l(N,null,b(t.dishData,a=>(n(),w(h,{span:6,key:a.id},{default:c(()=>[o("div",j,[o("img",{onClick:x=>g("/front/dishDetail?id="+a.dish.id),src:a.dish.img,alt:"",style:{width:"100%",height:"130px","object-fit":"cover","border-top-left-radius":"6px","border-top-right-radius":"6px",cursor:"pointer"}},null,8,T),o("div",$,[o("div",q,[o("div",F,r(a.dish.name),1),o("div",null,[d(m,{type:"danger",plain:"",size:"small",onClick:x=>u(a.id)},{default:c(()=>s[1]||(s[1]=[E("取消")])),_:2},1032,["onClick"])])]),o("div",I,r(a.dish.content),1)])])]),_:2},1024))),128))]),_:1})]),t.total?(n(),l("div",L,[d(v,{onCurrentChange:i,background:"",layout:"total, prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,"onUpdate:currentPage":s[0]||(s[0]=a=>t.pageNum=a),total:t.total},null,8,["page-size","current-page","total"])])):C("",!0)])}}};export{W as default};
