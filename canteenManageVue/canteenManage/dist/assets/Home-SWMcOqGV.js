/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            *//* empty css               */import{_ as k,a as b}from"./售罄-DiyTDBYW.js";import{r as p}from"./request-BisGCTbQ.js";import{r as E,c as d,a as t,b as c,w as l,N as g,O as h,v as r,E as x,a0 as N,z as I,a1 as T,B as j,o as a,P as y,g as z,t as s,a2 as P,a3 as V}from"./index-ByI2rrOB.js";const $="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1742532847537'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='9180'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M392.637878%20387.519538h238.680173v636.480462h-238.680173z'%20p-id='9181'%20fill='%23d81e06'%3e%3c/path%3e%3cpath%20d='M495.270352%207.222462L155.548906%20346.943909a23.868017%2023.868017%200%200%200%2016.707612%2041.37123h679.442893a23.868017%2023.868017%200%200%200%2016.707612-41.37123L529.481177%207.222462a23.868017%2023.868017%200%200%200-34.210825%200z'%20p-id='9182'%20fill='%23d81e06'%3e%3c/path%3e%3c/svg%3e",L={class:"main-content",style:{width:"70%",margin:"20px auto"}},A=["src"],G={style:{"margin-top":"20px"}},M={style:{display:"flex","align-items":"center","grid-gap":"20px"}},O={style:{flex:"1"}},U={style:{"margin-top":"20px",display:"flex","grid-gap":"40px"}},q={style:{flex:"1",padding:"5px"}},F={key:0,class:"front_card"},H=["onClick","src"],R={style:{padding:"10px"}},W={style:{"font-size":"20px"}},Y={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},J={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},K={style:{"margin-right":"50px","font-size":"25px",color:"red"}},Q={style:{flex:"1","text-align":"right"}},X={key:1,class:"front_card"},Z={style:{padding:"10px"}},tt={style:{"font-size":"20px"}},et={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},st={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},it={style:{"margin-right":"50px","font-size":"25px",color:"red"}},ot={style:{flex:"1","text-align":"right"}},nt={key:2,class:"front_card"},at={style:{padding:"10px"}},dt={style:{"font-size":"20px"}},lt={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},rt={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},pt={style:{"margin-right":"50px","font-size":"25px",color:"red"}},ct={style:{flex:"1","text-align":"right"}},gt={style:{width:"200px",height:"200px"}},ht={style:{width:"20px"}},xt=["onClick"],_t={key:0,style:{"margin-top":"10px"}},yt={style:{"margin-top":"10px"}},ut={key:0,class:"front_card"},ft=["onClick","src"],vt={style:{padding:"10px"}},mt={style:{"font-size":"20px"}},wt={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},Dt={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},kt={style:{"margin-right":"50px","font-size":"25px",color:"red"}},bt={style:{flex:"1","text-align":"right"}},zt={key:1,class:"front_card"},Ct={style:{padding:"10px"}},St={style:{"font-size":"20px"}},Bt={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},Et={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},Nt={style:{"margin-right":"50px","font-size":"25px",color:"red"}},It={style:{flex:"1","text-align":"right"}},Tt={key:2,class:"front_card"},jt={style:{padding:"10px"}},Pt={style:{"font-size":"20px"}},Vt={class:"line2",style:{"margin-top":"5px","line-height":"20px",height:"40px"}},$t={style:{"margin-top":"5px",display:"flex","align-items":"center",padding:"0 5px"}},Lt={style:{"margin-right":"50px","font-size":"25px",color:"red"}},At={style:{flex:"1","text-align":"right"}},ee={__name:"Home",setup(Gt){const i=E({sideshowData:[],categoryData:[],categoryId:null,dishTypeData:[],dishSalesData:[],pageNum:1,pageSize:4,total:0,searchData:[]});(()=>{p.get("/sideshow/selectAll").then(o=>{o.code==="200"?i.sideshowData=o.data:x.error(o.msg)})})();const u=o=>{setInterval(()=>{location.href=o},300)};(()=>{p.get("/category/selectAll").then(o=>{o.code==="200"?i.categoryData=o.data:x.error(o.msg)})})();const v=o=>{i.categoryId=o,f()},f=()=>{p.get("/dish/selectPage",{params:{pageNum:i.pageNum,pageSize:i.pageSize,categoryId:i.categoryId}}).then(o=>{o.code==="200"?(i.dishTypeData=o.data.list,i.total=o.data.total):x.error(o.msg)})};return f(),(()=>{p.get("/dish/selectBySales").then(o=>{o.code==="200"?i.dishSalesData=o.data:x.error(o.msg)})})(),(()=>{p.get("/search/selectAll").then(o=>{o.code==="200"?(i.searchData=o.data,i.searchData.length>5&&(i.searchData=i.searchData.slice(0,5))):x.error(o.msg)})})(),(o,n)=>{const C=P,S=N,m=I,w=V,D=T,B=j;return a(),d("div",L,[t("div",null,[c(S,{height:"300px",style:{"border-radius":"5px"}},{default:l(()=>[(a(!0),d(g,null,h(i.sideshowData,e=>(a(),y(C,{key:e.id},{default:l(()=>[t("img",{src:e.img,alt:"",style:{height:"300px",width:"100%","object-fit":"contain"}},null,8,A)]),_:2},1024))),128))]),_:1})]),t("div",G,[t("div",M,[n[3]||(n[3]=t("div",{style:{width:"100px",height:"40px","line-height":"40px","padding-left":"10px","font-size":"18px","border-left":"5px solid #008B8B",background:"linear-gradient(to right, #00CDCD, white)"}}," 菜品分类",-1)),t("div",O,[c(m,{type:i.categoryId===null?"primary":"",onClick:n[0]||(n[0]=e=>v(null))},{default:l(()=>n[2]||(n[2]=[z("全部")])),_:1},8,["type"]),(a(!0),d(g,null,h(i.categoryData,e=>(a(),y(m,{type:e.id===i.categoryId?"primary":"",onClick:_=>v(e.id),key:e.id},{default:l(()=>[z(s(e.title),1)]),_:2},1032,["type","onClick"]))),128))])]),t("div",U,[t("div",q,[c(D,{gutter:10},{default:l(()=>[(a(!0),d(g,null,h(i.dishTypeData,e=>(a(),y(w,{span:6,key:e.id},{default:l(()=>[e.status==="上架"&&e.num?(a(),d("div",F,[t("img",{onClick:_=>u("/front/dishDetail?id="+e.id),src:e.img,alt:"",style:{width:"100%",height:"130px","object-fit":"cover","border-top-left-radius":"6px","border-top-right-radius":"6px",cursor:"pointer"}},null,8,H),t("div",R,[t("div",W,s(e.name),1),t("div",Y,s(e.content),1)]),t("div",J,[t("div",K,"￥ "+s(e.price),1),t("div",Q,"库存："+s(e.num)+" 份",1)])])):r("",!0),e.status==="下架"?(a(),d("div",X,[n[4]||(n[4]=t("div",{style:{display:"flex","justify-content":"center"}},[t("img",{src:k,alt:"",style:{width:"130px",height:"130px","border-top-left-radius":"6px","border-top-right-radius":"6px"}})],-1)),t("div",Z,[t("div",tt,s(e.name)+"（已下架）",1),t("div",et,s(e.content),1)]),t("div",st,[t("div",it,"￥ "+s(e.price),1),t("div",ot,"库存："+s(e.num)+" 份",1)])])):r("",!0),!e.num&&e.status==="上架"?(a(),d("div",nt,[n[5]||(n[5]=t("div",{style:{display:"flex","justify-content":"center"}},[t("img",{src:b,alt:"",style:{width:"130px",height:"130px","border-top-left-radius":"6px","border-top-right-radius":"6px"}})],-1)),t("div",at,[t("div",dt,s(e.name),1),t("div",lt,s(e.content),1)]),t("div",rt,[t("div",pt,"￥ "+s(e.price),1),t("div",ct,"库存："+s(e.num)+" 份",1)])])):r("",!0)]),_:2},1024))),128))]),_:1})]),t("div",gt,[n[7]||(n[7]=t("div",{style:{color:"#27408B","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"看看大家最近在搜索什么",-1)),(a(!0),d(g,null,h(i.searchData,(e,_)=>(a(),d("div",{key:e.id,style:{display:"flex","align-items":"center","grid-gap":"10px","margin-bottom":"10px"}},[t("div",ht,s(_+1),1),t("div",{class:"line1",onClick:Ft=>u("/front/search?name="+e.name),style:{width:"100%",cursor:"pointer"}},s(e.name),9,xt),n[6]||(n[6]=t("img",{src:$,alt:"",style:{width:"15px",height:"15px"}},null,-1))]))),128))])])]),i.total?(a(),d("div",_t,[c(B,{size:"small",onCurrentChange:f,background:"",layout:"total, prev, pager, next","page-size":i.pageSize,"current-page":i.pageNum,"onUpdate:currentPage":n[1]||(n[1]=e=>i.pageNum=e),total:i.total},null,8,["page-size","current-page","total"])])):r("",!0),n[10]||(n[10]=t("div",{style:{"margin-top":"20px",width:"100px",height:"40px","line-height":"40px","padding-left":"10px","font-size":"18px","border-left":"5px solid #008B8B",background:"linear-gradient(to right, #00CDCD, white)"}}," 热门菜品",-1)),t("div",yt,[c(D,{gutter:20},{default:l(()=>[(a(!0),d(g,null,h(i.dishSalesData,e=>(a(),y(w,{span:6,key:e.id,style:{"margin-bottom":"10px"}},{default:l(()=>[e.status==="上架"&&e.num?(a(),d("div",ut,[t("img",{onClick:_=>u("/front/dishDetail?id="+e.id),src:e.img,alt:"",style:{width:"100%",height:"200px","object-fit":"cover","border-top-left-radius":"6px","border-top-right-radius":"6px",cursor:"pointer"}},null,8,ft),t("div",vt,[t("div",mt,s(e.name),1),t("div",wt,s(e.content),1)]),t("div",Dt,[t("div",kt,"￥ "+s(e.price),1),t("div",bt,"库存："+s(e.num)+" 份",1)])])):r("",!0),e.status==="下架"?(a(),d("div",zt,[n[8]||(n[8]=t("div",{style:{display:"flex","justify-content":"center"}},[t("img",{src:k,alt:"",style:{width:"130px",height:"130px","border-top-left-radius":"6px","border-top-right-radius":"6px"}})],-1)),t("div",Ct,[t("div",St,s(e.name)+"（已下架）",1),t("div",Bt,s(e.content),1)]),t("div",Et,[t("div",Nt,"￥ "+s(e.price),1),t("div",It,"库存："+s(e.num)+" 份",1)])])):r("",!0),!e.num&&e.status==="上架"?(a(),d("div",Tt,[n[9]||(n[9]=t("div",{style:{display:"flex","justify-content":"center"}},[t("img",{src:b,alt:"",style:{width:"130px",height:"130px","border-top-left-radius":"6px","border-top-right-radius":"6px"}})],-1)),t("div",jt,[t("div",Pt,s(e.name),1),t("div",Vt,s(e.content),1)]),t("div",$t,[t("div",Lt,"￥ "+s(e.price),1),t("div",At,"库存："+s(e.num)+" 份",1)])])):r("",!0)]),_:2},1024))),128))]),_:1})])])}}};export{ee as default};
