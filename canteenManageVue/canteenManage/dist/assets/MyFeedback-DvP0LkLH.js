/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                *//* empty css               *//* empty css              */import{r as m}from"./request-6eHoymb-.js";/* empty css                */import{r as y,c as u,a as p,t as h,b as t,w as r,v as k,E as c,y as v,z as C,A as E,B as N,o as g,g as _,u as z,G as V,x as B,H as S}from"./index-C86Pu7Zh.js";const T={style:{width:"60%",margin:"20px auto",padding:"20px"}},D={class:"card"},M={style:{"font-size":"25px"}},P={style:{"margin-top":"15px"}},q={class:"card",style:{margin:"10px auto"}},F={key:0,class:"card"},X={__name:"MyFeedback",setup(U){const e=y({feedbackData:[],pageNum:1,pageSize:5,total:0}),n=()=>{m.get("/feedback/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,title:e.title}}).then(a=>{a.code==="200"?(e.feedbackData=a.data.list,e.total=a.data.total):c.error(a.msg)})};n();const f=()=>{e.title=null,n()},b=a=>{B.confirm("是否删除该系统公告信息?（删除后将无法恢复）","删除确认",{type:"warning"}).then(o=>{m.delete(`/feedback/delete/${a.id}`).then(s=>{s.code==="200"?(c.success("删除成功"),n()):c.error(s.msg)})})};return(a,o)=>{const s=v,d=C,l=S,w=E,x=N;return g(),u("div",T,[p("div",D,[p("div",M,"我的反馈: ("+h(e.total)+")",1),p("div",P,[t(s,{modelValue:e.title,"onUpdate:modelValue":o[0]||(o[0]=i=>e.title=i),"prefix-icon":"Search",style:{width:"240px","margin-right":"10px"},placeholder:"请输入标题"},null,8,["modelValue"]),t(d,{type:"info",plain:"",onClick:n},{default:r(()=>o[2]||(o[2]=[_("查询")])),_:1}),t(d,{type:"info",style:{margin:"0 10px"},plain:"",onClick:f},{default:r(()=>o[3]||(o[3]=[_("重置")])),_:1})])]),p("div",q,[t(w,{stripe:"",data:e.feedbackData,border:"",style:{width:"100%"}},{default:r(()=>[t(l,{prop:"title",label:"反馈标题","show-overflow-tooltip":""}),t(l,{prop:"question",label:"反馈问题","show-overflow-tooltip":""}),t(l,{prop:"idea",label:"想法","show-overflow-tooltip":""}),t(l,{prop:"createTime",label:"反馈时间",width:"180px"}),t(l,{prop:"content",label:"回复内容","show-overflow-tooltip":""}),t(l,{prop:"replyTime",label:"回复时间",width:"180px"}),t(l,{label:"操作",width:"180"},{default:r(i=>[t(d,{type:"danger",circle:"",icon:z(V),onClick:$=>b(i.row)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])]),e.total?(g(),u("div",F,[t(x,{onCurrentChange:n,background:"",layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.pageNum,"onUpdate:currentPage":o[1]||(o[1]=i=>e.pageNum=i),total:e.total},null,8,["page-size","current-page","total"])])):k("",!0),o[4]||(o[4]=p("div",null,null,-1))])}}};export{X as default};
